{% include "common/header.twig" %}

<div class="gui-container">
    {% include "common/heading.twig" %}
    {% include "common/gui-user.twig" %}
    <section class="gui-box">
        <h2>Routes management</h2>
        <p>Choose route from list to see its details, edit or delete it.</p>
        <div class="route-menu">
            <ul class="route-menu-list">
                {% for route in routes %}
                    <li>
                        <a href="/routesmanagement/{{route.routeID}}"
                           class="route-menu-element">{{route.fullName}}</a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </section>
    <section class="gui-box">
        <ul class="gui-box-menu">
            <li>
                <a class="gui-menu-flatcard" href="/routesmanagement/add">
                    <span class="material-icons">add_circle</span>
                    <p class="menutext">Add new route</p>
                    <span class="material-icons">keyboard_arrow_right</span>
                </a>
            </li>
            <li>
                <a class="gui-menu-flatcard" href="/panel">
                    <span class="material-icons">keyboard_arrow_left</span>
                    <p class="menutext">Back to management</p>
                    <span class="material-icons">build</span>
                </a>
            </li>
        </ul>
    </section>
    {% if good %}
        <section class="gui-box gui-success">
            <p>Route added successfully!</p>
        </section>
    {% endif %}
    {% include "common/footing.twig" %}
</div>

{% if window == 'add' %}
    <div class="gui-container">
        <div class="gui-box">
            <h2>Add route</h2>
            <p>Add an existing route to the system. Provide valid KBS number, route name, length and Vmax.</p>
            <form action="/routesmanagement/add" class="gui-form" method="post">
                <label for="kbs">KBS number</label>
                <input type="text" id="kbs" name="kbs" required>
                <label for="name">Route name</label>
                <input type="text" id="name" name="name" required>
                <label for="length">Length</label>
                <input type="number" id="length" name="length" required>
                <label for="maxspeed">Maximal allowed speed</label>
                <input type="number" id="maxspeed" name="maxspeed" required>
                <input type="submit" name="submit_add" value="Add">
            </form>
        </div>
    </div>
{% endif %}


{% include "common/footer.twig" %}
